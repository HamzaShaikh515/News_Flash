{% extends "base1.html" %}
{% block title %} top-headlines {% endblock title %}
{% block content %}
    <div class="news-article">
    <h1>Top-headlines</h1>
    <br/>
    <p style="line-height: 1.6;">Stay informed on the latest news happening around you! This page lets you filter headlines based on your preferences. Choose your country, preferred language, and specific category (e.g., business, sports) to see the most relevant top stories. Get a quick glimpse of the world, or dive deeper into specific topics that interest you</p>
    </div>
    <div class='news-article'>
        <h1>Search For Headlines  </h1>
        <br>
    <form action="" method="GET">
        <label for="country">Country:</label>
        <select id="country" name="country">
            <option value="">All Countries</option>
            <option value="in">India</option>
            <option value="us">United States</option>
            <option value="ru">Russia</option>
            <option value="gb">United Kingdom</option>
            <option value="cn">China</option>
            <option value="au">Australia</option>
            <option value="br">Brazil</option>
            <option value="de">Germany</option>
            <option value="at">Austria</option>
            <option value="be">Belgium</option>
            <option value="bg">Bulgaria</option>
            <option value="ca">Canada</option>
            <option value="ch">Switzerland</option>
            <option value="co">Colombia</option>
            <option value="cu">Cuba</option>
            <option value="cz">Czech Republic</option>
            <option value="eg">Egypt</option>
            <option value="fr">France</option>
            <option value="gr">Greece</option>
            <option value="hk">Hong Kong</option>
            <option value="hu">Hungary</option>
            <option value="id">Indonesia</option>
            <option value="ie">Ireland</option>
            <option value="il">Israel</option>
            <option value="it">Italy</option>
            <option value="jp">Japan</option>
            <option value="kr">South Korea</option>
            <option value="lt">Lithuania</option>
            <option value="lv">Latvia</option>
            <option value="ma">Morocco</option>
            <option value="mx">Mexico</option>
            <option value="my">Malaysia</option>
            <option value="nl">Netherlands</option>
            <option value="no">Norway</option>
            <option value="nz">New Zealand</option>
            <option value="ph">Philippines</option>
            <option value="pl">Poland</option>
            <option value="pt">Portugal</option>
            <option value="ro">Romania</option>
            <option value="rs">Serbia</option>
            <option value="sa">Saudi Arabia</option>
            <option value="se">Sweden</option>
            <option value="sg">Singapore</option>
            <option value="sl">Slovenia</option>
            <option value="sk">Slovakia</option>
            <option value="th">Thailand</option>
            <option value="tr">Turkey</option>
            <option value="tw">Taiwan</option>
            <option value="ua">Ukraine</option>
            <option value="ve">Venezuela</option>
            <option value="za">South Africa</option>
        </select><br/><br/>
        
        <label for="language">Language:</label>
        <select id="language" name="language">
            <option value="">All Languages</option>
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="ar">Arabic</option>
            <option value="de">German</option>
            <option value="he">Hebrew</option>
            <option value="it">Italian</option>
            <option value="nl">Dutch</option>
            <option value="no">Norwegian</option>
            <option value="pt">Portuguese</option>
            <option value="ru">Russian</option>
            <option value="sv">Swedish</option>
            <option value="zh">Chinese</option>
        </select><br/><br/>

        <label for="category">Category:</label>
        <select name="category" id="category">
            <option value="">All Categories</option>
            <option value="business">Business</option>
            <option value="entertainment">Entertainment</option>
            <option value="general">General</option>
            <option value="health">Health</option>
            <option value="science">Science</option>
            <option value="sports">Sports</option>
            <option value="technology">Technology</option>
        </select><br/><br/>

        <label for="q">Any Keyword in the title?</label>
        <input type="text" id="q" name="q"/><br/><br/>
        <button type="submit" style="background-color: #263859;color: #fff;">Search Headlines</button><br/><br/>
    </form>
    <hr>
    <br/>
    {% if articles %}
        <h2>Total Results : {{ totalResults }} </h2><br/>
        <ol>
        {% for page,article_list in articles.items %}
            {% for article in article_list %}
                <li>
                    <div class="news-article">
                        <section style="margin: 20; display: block;">
                            <p><h3>{{ article.title }}</h3></p>
                            {% if  article.urlToImage %}<p><img src="{{ article.urlToImage }}" style='height: 200px !important; width: auto !important;'></p>{% else %}<br/>{% endif %}
                            <p><h4>{% if article.author %} by {{ article.author }}{% endif %} - {{ article.source.name }}</h4></p>
                            <p>{% if article.publishedAt %} Published On : {{ article.publishedAt }}{% endif %}</p>
                            <p>{% if article.description %}{{ article.description }}{% endif %}</p>
                            <p>Link to article : <a href="{{ article.url }}">{{ article.title }}</a></p>
                        </section>
                    </div>
                    <hr>
                    <br>
                </li>
            {% endfor %}
        {% endfor %}
        </ol>
    {% else %}
        <p>No top headlines found.</p>
    {% endif %}

    </div>
{% endblock content %}